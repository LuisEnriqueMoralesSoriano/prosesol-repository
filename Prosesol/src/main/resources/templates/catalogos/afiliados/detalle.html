<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">

<head th:replace="fragments/head :: head"></head>

<body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">	
	
	<header th:replace="fragments/header :: header"></header>
	
	<div class="app-body">
		<div th:replace="fragments/sidebar :: sidebar"></div>
		
		<main class="main">

		<ol class="breadcrumb">
			<li class="breadcrumb-item">Home</li>
			<li class="breadcrumb-item">Catálogos</li>
			<li class="breadcrumb-item active">Afiliados</li>
		</ol>
		
	<div class="container-fluid">
			<div class="animated fadeIn">
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-header">Afiliados</div>
							<div class="card-body">
								<h5 class="m-0 font-weight-bold text-primary" th:text="${titulo}"></h5>

								<div class="clearfix"></div>
								<hr>

			<h4 th:if="${not afiliado.isBeneficiario}" class="card-title">
							<a class="btn btn-primary btn-xs"
								th:href="@{/beneficiarios/crear/} + ${afiliado.id}"
								th:text="'Crear Beneficiario'"></a>
						</h4>

						<ul class="list-group">
							<li class="list-group-item active"
								th:text="${afiliado.nombre} + ' ' + ${afiliado.apellidoPaterno} + ' ' + ${afiliado.apellidoMaterno}"></li>
							<li class="list-group-item" th:text="${afiliado.fechaNacimiento}"></li>
							<li class="list-group-item" th:text="${afiliado.lugarNacimiento}"></li>
							<li class="list-group-item" th:text="${afiliado.estadoCivil}"></li>
							<li class="list-group-item"
								th:text="${afiliado.regimenMatrimonial}"></li>
							<li class="list-group-item"
								th:text="${afiliado.numeroDependientes}"></li>
							<li class="list-group-item" th:text="${afiliado.ocupacion}"></li>
							<li class="list-group-item" th:text="${afiliado.escolaridad}"></li>
							<li class="list-group-item" th:text="${afiliado.sexo}"></li>
							<li class="list-group-item" th:text="${afiliado.pais}"></li>
							<li class="list-group-item" th:text="${afiliado.curp}"></li>
							<li class="list-group-item" th:text="${afiliado.nss}"></li>
							<li class="list-group-item" th:text="${afiliado.rfc}"></li>
							<li class="list-group-item" th:text="${afiliado.telefonoFijo}"></li>
							<li class="list-group-item" th:text="${afiliado.telefonoMovil}"></li>
							<li class="list-group-item" th:text="${afiliado.email}"></li>
							<li class="list-group-item"
								th:text="${afiliado.direccion} + ' ' 
									   + ${afiliado.municipio} + ' ' 
									   + ${afiliado.codigoPostal} + ' ' 
									   + ${afiliado.entidadFederativa}"></li>
							<li class="list-group-item" th:text="${afiliado.isBeneficiario} ? 'Beneficiario' : 'Titular'"></li>
						</ul>

						<!-- <div th:if="${#lists.isEmpty(cliente.facturas)}"
					class="alert alert-info my-4"
					th:text="'No hay facturas asignadas para el cliente ' + ${cliente.nombre} + ' ' + ${cliente.apellido}"></div> -->
						
						<table th:if="${not #lists.isEmpty(afiliado.beneficiarios)}" class="table table-bordered table-striped my-4">
							<caption>Beneficiarios</caption>
							<thead class="thead-inverse" >
								<tr>
									<th sec:authorize="hasRole('ROLE_USER')">Id</th>
									<th>Nombre</th>
									<th>Apellido Paterno</th>
									<th>Apellido Materno</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="beneficiario: ${afiliados}">
									<td th:text="${beneficiario.id}"></td>
									<td th:text="${beneficiario.nombre}"></td>
									<td th:text="${beneficiario.apellidoPaterno}"></td>
									<td th:text="${beneficiario.apellidoMaterno}"></td>
								</tr>
							</tbody>

						</table>
				
						</div>
					</div>
				</div>
			</div>
		</div>
		</main>
		</div>
	
	<footer th:replace="fragments/footer :: footer"></footer>

</body>

</html>